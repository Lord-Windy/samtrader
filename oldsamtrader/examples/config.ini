; samtrader configuration file
; All options shown with their default values unless marked (required)

[database]
; PostgreSQL connection string (required)
conninfo = host=localhost dbname=marketdata user=trader password=secret

[backtest]
; Starting portfolio value
initial_capital = 100000.0

; Flat commission charged per trade (in currency units)
commission_per_trade = 0.0

; Commission as a percentage of trade value (e.g., 0.001 = 0.1%)
commission_pct = 0.0

; Simulated slippage as a percentage of price (e.g., 0.001 = 0.1%)
slippage_pct = 0.0

; Enable short selling (true/false, yes/no, 1/0)
allow_shorting = false

; Risk-free rate for Sharpe and Sortino ratio calculation
risk_free_rate = 0.05

; Backtest date range (required, YYYY-MM-DD format)
start_date = 2020-01-01
end_date = 2024-12-31

; Symbol to backtest (required if 'codes' not set)
code = CBA

; Multiple codes to backtest (comma-separated, overrides 'code')
; codes = CBA, BHP, WBC

exchange = ASX

[strategy]
name = SMA Crossover
description = Simple moving average crossover strategy

; Entry and exit rules (entry_long and exit_long are required)
entry_long = CROSS_ABOVE(SMA(20), SMA(50))
exit_long = CROSS_BELOW(SMA(20), SMA(50))

; Short rules (optional, requires allow_shorting = true)
; entry_short = CROSS_BELOW(SMA(20), SMA(50))
; exit_short = CROSS_ABOVE(SMA(20), SMA(50))

; Fraction of portfolio to allocate per position (0.0-1.0)
position_size = 0.25

; Stop loss as a percentage (0 = disabled)
stop_loss = 0.0

; Take profit as a percentage (0 = disabled)
take_profit = 0.0

; Maximum number of concurrent positions
max_positions = 1

[report]
; Custom Typst template path (optional, uses built-in template if omitted)
; template_path = /path/to/custom_template.typ
